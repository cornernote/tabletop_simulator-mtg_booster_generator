{
  "SaveName": "Custom",
  "EpochTime": 1756647058,
  "Date": "8/31/2025 11:00:58 PM",
  "VersionNumber": "v13.3",
  "GameMode": "DND Measurement Injector",
  "GameType": "Utility",
  "GameComplexity": "Low Complexity",
  "PlayingTime": [
    0,
    0
  ],
  "PlayerCounts": [
    0,
    0
  ],
  "Tags": [
    "Components"
  ],
  "Gravity": 0.5,
  "PlayArea": 0.5,
  "Table": "Table_RPG",
  "Sky": "Sky_Tunnel",
  "Note": "",
  "TabStates": {
    "0": {
      "title": "Rules",
      "body": "",
      "color": "Grey",
      "visibleColor": {
        "r": 0.5,
        "g": 0.5,
        "b": 0.5
      },
      "id": 0
    },
    "1": {
      "title": "White",
      "body": "",
      "color": "White",
      "visibleColor": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "id": 1
    },
    "2": {
      "title": "Brown",
      "body": "",
      "color": "Brown",
      "visibleColor": {
        "r": 0.443,
        "g": 0.231,
        "b": 0.09
      },
      "id": 2
    },
    "3": {
      "title": "Red",
      "body": "",
      "color": "Red",
      "visibleColor": {
        "r": 0.856,
        "g": 0.1,
        "b": 0.094
      },
      "id": 3
    },
    "4": {
      "title": "Orange",
      "body": "",
      "color": "Orange",
      "visibleColor": {
        "r": 0.956,
        "g": 0.392,
        "b": 0.113
      },
      "id": 4
    },
    "5": {
      "title": "Yellow",
      "body": "",
      "color": "Yellow",
      "visibleColor": {
        "r": 0.905,
        "g": 0.898,
        "b": 0.172
      },
      "id": 5
    },
    "6": {
      "title": "Green",
      "body": "",
      "color": "Green",
      "visibleColor": {
        "r": 0.192,
        "g": 0.701,
        "b": 0.168
      },
      "id": 6
    },
    "7": {
      "title": "Blue",
      "body": "",
      "color": "Blue",
      "visibleColor": {
        "r": 0.118,
        "g": 0.53,
        "b": 1.0
      },
      "id": 7
    },
    "8": {
      "title": "Teal",
      "body": "",
      "color": "Teal",
      "visibleColor": {
        "r": 0.129,
        "g": 0.694,
        "b": 0.607
      },
      "id": 8
    },
    "9": {
      "title": "Purple",
      "body": "",
      "color": "Purple",
      "visibleColor": {
        "r": 0.627,
        "g": 0.125,
        "b": 0.941
      },
      "id": 9
    },
    "10": {
      "title": "Pink",
      "body": "",
      "color": "Pink",
      "visibleColor": {
        "r": 0.96,
        "g": 0.439,
        "b": 0.807
      },
      "id": 10
    },
    "11": {
      "title": "Black",
      "body": "",
      "color": "Black",
      "visibleColor": {
        "r": 0.25,
        "g": 0.25,
        "b": 0.25
      },
      "id": 11
    }
  },
  "Grid": {
    "Type": 0,
    "Lines": false,
    "Color": {
      "r": 0.0,
      "g": 0.0,
      "b": 0.0
    },
    "Opacity": 0.75,
    "ThickLines": false,
    "Snapping": false,
    "Offset": true,
    "BothSnapping": false,
    "xSize": 1.55,
    "ySize": 1.55,
    "PosOffset": {
      "x": 0.0,
      "y": 1.0,
      "z": 0.0
    }
  },
  "Lighting": {
    "LightIntensity": 0.54,
    "LightColor": {
      "r": 1.0,
      "g": 0.9804,
      "b": 0.8902
    },
    "AmbientIntensity": 1.3,
    "AmbientType": 0,
    "AmbientSkyColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientEquatorColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "AmbientGroundColor": {
      "r": 0.5,
      "g": 0.5,
      "b": 0.5
    },
    "ReflectionIntensity": 1.0,
    "LutIndex": 0,
    "LutContribution": 1.0
  },
  "Hands": {
    "Enable": true,
    "DisableUnused": false,
    "Hiding": 0
  },
  "ComponentTags": {
    "labels": []
  },
  "Turns": {
    "Enable": false,
    "Type": 0,
    "TurnOrder": [],
    "Reverse": false,
    "SkipEmpty": false,
    "DisableInteractions": false,
    "PassTurns": true,
    "TurnColor": ""
  },
  "DecalPallet": [],
  "LuaScript": "--[[ Lua code. See documentation: https://api.tabletopsimulator.com/ --]]\n\n--[[ The onLoad event is called after the game save finishes loading. --]]\nfunction onLoad()\n    --[[ print('onLoad!') --]]\nend\n\n--[[ The onUpdate event is called once per frame. --]]\nfunction onUpdate()\n    --[[ print('onUpdate loop!') --]]\nend",
  "LuaScriptState": "",
  "XmlUI": "<!-- Xml UI. See documentation: https://api.tabletopsimulator.com/ui/introUI/ -->",
  "ObjectStates": [
    {
      "GUID": "c87ad1",
      "Name": "HandTrigger",
      "Transform": {
        "posX": -15.1107731,
        "posY": 4.81034231,
        "posZ": -20.1076221,
        "rotX": 0.0,
        "rotY": 0.0,
        "rotZ": 0.0,
        "scaleX": 11.7719851,
        "scaleY": 9.174497,
        "scaleZ": 4.871238
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.856,
        "g": 0.09999997,
        "b": 0.09399996,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Red",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "9d27dc",
      "Name": "HandTrigger",
      "Transform": {
        "posX": -30.2150211,
        "posY": 4.81034231,
        "posZ": 10.17524,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 11.6554289,
        "scaleY": 9.174497,
        "scaleZ": 4.91995144
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.905,
        "g": 0.898,
        "b": 0.171999961,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Yellow",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "7a641b",
      "Name": "HandTrigger",
      "Transform": {
        "posX": 30.2511711,
        "posY": 4.81034231,
        "posZ": 9.59069252,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 11.6554213,
        "scaleY": 9.174497,
        "scaleZ": 4.91995144
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.627,
        "g": 0.124999978,
        "b": 0.941,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Purple",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "38e503",
      "Name": "HandTrigger",
      "Transform": {
        "posX": 15.4749184,
        "posY": 4.81034231,
        "posZ": 19.8365288,
        "rotX": 0.0,
        "rotY": 179.8,
        "rotZ": 0.0,
        "scaleX": 11.7719746,
        "scaleY": 9.174497,
        "scaleZ": 4.87124
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.117999978,
        "g": 0.53,
        "b": 1.0,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Blue",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "e4fa7c",
      "Name": "HandTrigger",
      "Transform": {
        "posX": 15.1961212,
        "posY": 4.81034231,
        "posZ": -20.1400986,
        "rotX": 0.0,
        "rotY": 0.0,
        "rotZ": 0.0,
        "scaleX": 11.7719707,
        "scaleY": 9.174499,
        "scaleZ": 4.871238
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "White",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "655788",
      "Name": "HandTrigger",
      "Transform": {
        "posX": -15.1927719,
        "posY": 4.81034231,
        "posZ": 19.787817,
        "rotX": 0.0,
        "rotY": 180.0,
        "rotZ": 0.0,
        "scaleX": 11.7719707,
        "scaleY": 9.174497,
        "scaleZ": 4.871238
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.191999972,
        "g": 0.701,
        "b": 0.167999953,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Green",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "37fbad",
      "Name": "HandTrigger",
      "Transform": {
        "posX": 30.1035728,
        "posY": 4.81034231,
        "posZ": -8.449126,
        "rotX": 0.0,
        "rotY": 270.0,
        "rotZ": 0.0,
        "scaleX": 11.6554184,
        "scaleY": 9.174497,
        "scaleZ": 4.91995144
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.96,
        "g": 0.438999981,
        "b": 0.807,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Pink",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "813026",
      "Name": "HandTrigger",
      "Transform": {
        "posX": -30.247818,
        "posY": 4.81034231,
        "posZ": -8.822588,
        "rotX": 0.0,
        "rotY": 90.0,
        "rotZ": 0.0,
        "scaleX": 11.6554317,
        "scaleY": 9.174497,
        "scaleZ": 4.91995144
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 0.9559999,
        "g": 0.39199996,
        "b": 0.112999953,
        "a": 0.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": false,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "FogColor": "Orange",
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "bdbd57",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -10.0749712,
        "posY": 2.18302655,
        "posZ": 14.7250128,
        "rotX": 0.000158601426,
        "rotY": 89.9908447,
        "rotZ": 0.00105626241,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: FIN\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "81568d",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -2.324866,
        "posY": 2.18302083,
        "posZ": 14.7252979,
        "rotX": -3.727412E-05,
        "rotY": 89.9885254,
        "rotZ": 0.00205479772,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: INR\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "cdaa79",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": 5.40032244,
        "posY": 2.183033,
        "posZ": 14.729681,
        "rotX": 0.0003855707,
        "rotY": 90.18804,
        "rotZ": 0.0006442655,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: DFT\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "00a3ad",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": 13.1751328,
        "posY": 2.18301845,
        "posZ": 14.7253561,
        "rotX": -7.52018E-05,
        "rotY": 89.98834,
        "rotZ": 0.002324947,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: EOE\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "38bd8e",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": 20.9250774,
        "posY": 2.1830256,
        "posZ": 14.7251883,
        "rotX": -0.000167325561,
        "rotY": 89.9895859,
        "rotZ": 0.00178662583,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: TDM\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "4e974c",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -10.0748949,
        "posY": 2.183021,
        "posZ": 5.425144,
        "rotX": 0.000221094655,
        "rotY": 89.9895248,
        "rotZ": 0.00160633412,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: FDN\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "6a41e1",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -2.32491732,
        "posY": 2.18305373,
        "posZ": 5.425277,
        "rotX": -0.000719527365,
        "rotY": 89.98903,
        "rotZ": 0.000106171719,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: DSK\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "b491da",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": 5.42506838,
        "posY": 2.1830287,
        "posZ": 5.42520428,
        "rotX": 3.557496E-05,
        "rotY": 89.98965,
        "rotZ": 0.00121361413,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: BLB\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "b92986",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": 13.1749172,
        "posY": 2.18309259,
        "posZ": 5.424946,
        "rotX": -0.001719056,
        "rotY": 89.99177,
        "rotZ": -0.00211162819,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: MH3\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "96af7b",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": 20.92499,
        "posY": 2.183074,
        "posZ": 5.424827,
        "rotX": 0.001213541,
        "rotY": 89.9921,
        "rotZ": -0.0009734285,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: MKM\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "b39eab",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -17.8246117,
        "posY": 2.182969,
        "posZ": 14.7256041,
        "rotX": 0.001090761,
        "rotY": 89.98484,
        "rotZ": 0.00540677,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: OTJ\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "24a073",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -17.82492,
        "posY": 2.18302274,
        "posZ": 5.425141,
        "rotX": -2.940058E-07,
        "rotY": 89.9895554,
        "rotZ": 0.00151465752,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: RVR\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "fba474",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -10.0794544,
        "posY": 2.18303967,
        "posZ": -3.87531042,
        "rotX": -3.91472582E-07,
        "rotY": 89.89332,
        "rotZ": 5.90336128E-07,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: SPM\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "9d7da8",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -2.32499981,
        "posY": 2.18303919,
        "posZ": -3.87500024,
        "rotX": -7.459532E-07,
        "rotY": 89.9961243,
        "rotZ": 2.83404464E-08,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: Mystery\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "059a49",
      "Name": "Custom_Model_Infinite_Bag",
      "Transform": {
        "posX": -17.8249989,
        "posY": 2.18303943,
        "posZ": -3.875,
        "rotX": 3.2938965E-07,
        "rotY": 89.9668961,
        "rotZ": -1.30735066E-06,
        "scaleX": 3.09999824,
        "scaleY": 3.09999824,
        "scaleZ": 3.09999824
      },
      "Nickname": "[FFDA00]ANY[ffffff] MTG Booster Box",
      "Description": "SET: M24\n\nBox/Pack models for sets:\n\nFIN, INR, DFT, EOE, TDM, FDN, DSK, BLB, MH3, MKM, OTJ, RVR",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://www.dropbox.com/s/jockzmj1e6yx0ub/tuckbox.obj?dl=1",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 7,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "LuaScript": "--- Global Configuration ---\r\nlocal config = {\r\n    backURL = 'https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/',\r\n    apiBaseURL = 'http://api.scryfall.com/cards/random?q='\r\n}\r\n\r\n--- Script State ---\r\nlocal boosterCount = 0\r\nlocal boosterDataCache = {}\r\nlocal cardStackDescription = \"\"\r\nlocal lastDescription = \"\"\r\nlocal pollInterval = 0.11  -- seconds, limit scryfall API requests to <10/sec\r\nlocal timePassed = 0\r\n\r\n--- Set Images ---\r\nlocal defaultImage = {\r\n    pack = \"https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/\",\r\n    box = \"https://steamusercontent-a.akamaihd.net/ugc/12337440257369525692/FFAB46AA1DDF402F405DFF555D4124F785EBC27A/\"\r\n}\r\n\r\nlocal setImages = {\r\n    Mystery = {\r\n         pack = \"https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/\",\r\n        --box = \"https://steamusercontent-a.akamaihd.net/ugc/1869552972532565911/FA78A97BBAB75CF44A7ED444920317C9CE41EABF/\", -- wrong model\r\n        name = \"Mystery\",\r\n    },\r\n    FIN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12758583996214265176/92BF2AA71307A15E627B82EF92FD4081DE9F8BEF/\",\r\n        name = \"Final Fantasy\",\r\n    },\r\n    INR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33314777894958369/39DEB8D4462F1BC1D52636F874AF87D4E0FA4F36/\",\r\n        name = \"Innistrad Remaster\",\r\n    },\r\n    DFT = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33315411545850871/98EB110FF97B6A90033B81633E0293397406819A/\",\r\n        name = \"Aetherdrift\",\r\n    },\r\n    EOE = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/12580228339626521582/AB004BC5138BE7C58B634A8183FE6972C0770796/\",\r\n        name = \"Edge of Eternities\",\r\n    },\r\n    TDM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33320655968415112/A7D3C7023F76DD7D187C1DA65A3D30007C85C5A6/\",\r\n        name = \"\",\r\n    },\r\n    FDN = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666179694/00D1056E0709307541AD18383A3C4C02FD0E1DF9/\",\r\n        name = \"Foundations\",\r\n    },\r\n    DSK = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666213749/327EF64F9F6599C7338FBEFD6E30F67F94687F9A/\",\r\n        name = \"Duskmourn: House of Horror\",\r\n    },\r\n    BLB = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666280402/EFA53DA40538B9B516FC204E7C03B3BDC8350C38/\",\r\n        name = \"Bloomburrow\",\r\n    },\r\n    MH3 = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666329942/59090620BF6D0D9EEC8609C9AEEE34F744E6158B/\",\r\n        name = \"Modern Horizons III\",\r\n    },\r\n    MKM = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666405067/2B88816E482872EFD864CF2809FC777C690E6055/\",\r\n        name = \"Murders at Karlov Manor\",\r\n    },\r\n    OTJ = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666378756/1E2CFB189744E3C571E628562ACCB25E2A613E45/\",\r\n        name = \"Outlaws of Thunder Junction\",\r\n    },\r\n    RVR = {\r\n        pack = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/\",\r\n        box = \"https://steamusercontent-a.akamaihd.net/ugc/33313055666433696/DA887125A73154443749A719F198C05C16ACAEA1/\",\r\n        name = \"Ravnica Remastered\"\r\n    },\r\n}\r\n\r\n--- Function Hooks ---\r\nfunction onObjectLeaveContainer(container, leave_object)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    local setCode = getSetCode()\r\n\r\n    leave_object.setName(setCode .. \" Booster\")\r\n    boosterCount = boosterCount + 1\r\n    local currentBoosterID = boosterCount\r\n\r\n    local queryTable = getScryfallQueryTable()\r\n    fetchDeckData(queryTable, currentBoosterID)\r\n\r\n    leave_object.createButton({\r\n        label = \"generating \" .. setCode,\r\n        click_function = 'null',\r\n        function_owner = self,\r\n        position = { 0, 0.2, -1.6 },\r\n        rotation = { 0, 0, 0 },\r\n        width = 1000,\r\n        height = 200,\r\n        font_size = 130,\r\n        color = { 0, 0, 0, 95 },\r\n        font_color = { 1, 1, 1, 95 },\r\n    })\r\n\r\n    local diffuseImage = defaultImage.pack\r\n\r\n    if setImages[setCode] and setImages[setCode].pack then\r\n        diffuseImage = setImages[setCode].pack\r\n    end\r\n\r\n    leave_object.setCustomObject({\r\n        diffuse = diffuseImage\r\n    })\r\n\r\n    Wait.condition(\r\n            function()\r\n                Wait.condition(\r\n                        function()\r\n                            local objectData = leave_object.getData()\r\n                            objectData.ContainedObjects = boosterDataCache[currentBoosterID]\r\n                            leave_object.destruct()\r\n                            local generatedBooster = spawnObjectData({ data = objectData })\r\n                            if not setImages[setCode] or not setImages[setCode].pack then\r\n                                generatedBooster.createButton({\r\n                                    label = setCode .. \" Booster\",\r\n                                    click_function = 'null',\r\n                                    function_owner = self,\r\n                                    position = { 0, 0.2, -1.6 },\r\n                                    rotation = { 0, 0, 0 },\r\n                                    width = 1000,\r\n                                    height = 200,\r\n                                    font_size = 150,\r\n                                    color = { 0, 0, 0, 95 },\r\n                                    font_color = { 1, 1, 1, 95 },\r\n                                })\r\n                            end\r\n                        end,\r\n                        function()\r\n                            return leave_object.resting\r\n                        end\r\n                )\r\n            end,\r\n            function()\r\n                return boosterDataCache[currentBoosterID] ~= nil\r\n            end\r\n    )\r\nend\r\n\r\nfunction drawBox()\r\n    self.clearButtons()\r\n\r\n    local setCode = getSetCode()\r\n    local diffuseImage = defaultImage.box\r\n\r\n    if setImages[setCode] and setImages[setCode].box then\r\n        diffuseImage = setImages[setCode].box\r\n    end\r\n\r\n    if self.getCustomObject().diffuse ~= diffuseImage then\r\n        self.setCustomObject({\r\n            diffuse = diffuseImage\r\n        })\r\n        self.reload()\r\n        print(\"reloading box for \" .. setCode)\r\n    end\r\n\r\n    if not setImages[setCode] or not setImages[setCode].box then\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode .. \" Boosters\",\r\n            position = { -0.71, -0.07, 0.15 },\r\n            rotation = { 0, 90, 270 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 220,\r\n        })\r\n\r\n        self.createButton({\r\n            click_function = \"null\",\r\n            function_owner = self,\r\n            label = setCode,\r\n            position = { 0, 0.33, 0.2 },\r\n            rotation = { 0, 90, 0 },\r\n            color = { 0.1, 0.1, 0.1, 1 },\r\n            font_color = { 0.8, 0.8, 0.8, 0.8 },\r\n            scale = { 0.7, 0.7, 0.7 },\r\n            width = 0,\r\n            height = 0,\r\n            font_size = 500,\r\n        })\r\n\r\n        if #setCode > 3 then\r\n            self.editButton({ index = 0, font_size = 160 })\r\n            self.editButton({ index = 1, font_size = 250 })\r\n        end\r\n    end\r\nend\r\n\r\nfunction onLoad()\r\n    drawBox()\r\n    lastDescription = self.getDescription()\r\nend\r\n\r\nfunction onUpdate()\r\n    timePassed = timePassed + Time.delta_time\r\n    if timePassed >= pollInterval then\r\n        timePassed = 0\r\n        checkDescription()\r\n        processRequestQueue()\r\n    end\r\nend\r\n\r\nfunction checkDescription()\r\n    local description = self.getDescription()\r\n\r\n    if description ~= lastDescription then\r\n        lastDescription = description\r\n        drawBox()\r\n    end\r\nend\r\n\r\nfunction getSetCode()\r\n    local setCode = \"M24\"\r\n\r\n    -- Trim leading/trailing whitespace from the captured text\r\n    -- This makes sure \" SET: M15 \" becomes \"M15\"\r\n    local captured_text = self.getDescription():match(\"SET:%s*([^\\n]+)\")\r\n    if captured_text then\r\n        setCode = captured_text:match(\"^%s*(.-)%s*$\")\r\n    end\r\n\r\n    if #setCode > 3 then\r\n        setCode = string.lower(setCode):gsub(\"^%l\", string.upper)\r\n    else\r\n        setCode = string.upper(setCode)\r\n    end\r\n\r\n    return setCode\r\nend\r\n\r\nlocal BoosterPacks = {}\r\nlocal apiSetPrefix = config.apiBaseURL .. 'is:booster+s:'\r\n\r\nlocal function getRandomRarity(mythicChance, rareChance, uncommonChance)\r\n    if math.random(1, mythicChance or 36) == 1 then\r\n        return 'r:mythic'\r\n    elseif math.random(1, rareChance or 8) == 1 then\r\n        return 'r:rare'\r\n    elseif math.random(1, uncommonChance or 4) == 1 then\r\n        return 'r:uncommon'\r\n    else\r\n        return 'r:common'\r\n    end\r\nend\r\n\r\nlocal function addCardTypeToPack(pack, cardType)\r\n    local randomIndex = math.random(#pack - 1, #pack)\r\n    for i = 13, #pack do\r\n        if randomIndex == i then\r\n            pack[i] = pack[i] .. '+' .. cardType\r\n        else\r\n            pack[i] = pack[i] .. '+-(' .. cardType .. ')'\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal MasterpieceSets = {\r\n    bfz = 'exp', ogw = 'exp', kld = 'mps', aer = 'mps',\r\n    akh = 'mp2', hou = 'mp2', stx = 'sta',\r\n    tsp = 'tsb', mb1 = 'fmb1', mh2 = 'h1r'\r\n}\r\n\r\nfunction BoosterPacks.default(set)\r\n    local pack = {}\r\n    local url = apiSetPrefix .. set .. '+'\r\n    url = url:gsub('%+s:%(', '+(')\r\n\r\n    for c in ('wubrg'):gmatch('.') do\r\n        table.insert(pack, url .. 'r:common+c>=' .. c)\r\n    end\r\n    for i = 1, 6 do\r\n        table.insert(pack, url .. 'r:common+-t:basic')\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:uncommon')\r\n    end\r\n\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n\r\n    if MasterpieceSets[set] and math.random(1, 144) == 1 then\r\n        pack[#pack] = config.apiBaseURL .. 's:' .. MasterpieceSets[set]\r\n    end\r\n\r\n    return pack\r\nend\r\n\r\nfunction BoosterPacks.dom(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:legendary')\r\nend\r\nfunction BoosterPacks.war(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:planeswalker')\r\nend\r\nfunction BoosterPacks.znr(set)\r\n    return addCardTypeToPack(BoosterPacks.default(set), 't:land+(is:spell+or+pathway)')\r\nend\r\n\r\n-- Changed function name to be a valid Lua identifier for clarity.\r\nfunction BoosterPacks.twoxm(set)\r\n    local pack = BoosterPacks.default(set)\r\n    pack[11] = pack[#pack]\r\n    for i = 9, 10 do\r\n        pack[i] = apiSetPrefix .. '2xm' .. '+' .. getRandomRarity()\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createReplacementSlotPack(pack, set, removeQuery, addQuery)\r\n    for i, v in pairs(pack) do\r\n        if i ~= 6 then\r\n            pack[i] = v .. removeQuery\r\n        else\r\n            pack[i] = apiSetPrefix .. set .. '+' .. getRandomRarity() .. addQuery\r\n        end\r\n    end\r\n    return pack\r\nend\r\n\r\nfor _, s in ipairs({ 'isd', 'dka', 'soi', 'emn' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-is:transform', '+is:transform')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'mid' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        local transformIndex = math.random(#pack - 1, #pack)\r\n        for i, v in pairs(pack) do\r\n            if i == 6 or i == transformIndex then\r\n                pack[i] = v .. '+is:transform'\r\n            else\r\n                pack[i] = v .. '+-is:transform'\r\n            end\r\n        end\r\n        return pack\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'cns', 'cn2' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-wm:conspiracy', '+wm:conspiracy')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'rav', 'gpt', 'dis', 'rtr', 'gtc', 'dgm', 'grn', 'rna' }) do\r\n    BoosterPacks[s] = function(set)\r\n        return createReplacementSlotPack(BoosterPacks.default(set), set, '+-t:land', '+t:land+-t:basic')\r\n    end\r\nend\r\n\r\nfor _, s in ipairs({ 'ice', 'all', 'csp', 'mh1', 'khm' }) do\r\n    BoosterPacks[s] = function(set)\r\n        local pack = BoosterPacks.default(set)\r\n        pack[6] = apiSetPrefix .. set .. '+t:basic+t:snow'\r\n        return pack\r\n    end\r\nend\r\n\r\nBoosterPacks.mystery = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 'set:mb1+'\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n        table.insert(urlTable, urlPrefix .. 'r<rare+c=' .. c)\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 'c:m+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'c:c+r<rare')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+frame:2015')\r\n    table.insert(urlTable, urlPrefix .. 'r>=rare+-frame:2015')\r\n    table.insert(urlTable, config.apiBaseURL .. 'set:cmb1')\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.spm = function()\r\n    local urlTable = {}\r\n    local urlPrefix = config.apiBaseURL .. 's:spm+'\r\n\r\n    for i = 1, math.random(6, 9) do\r\n        table.insert(urlTable, urlPrefix .. 'r:common')\r\n    end\r\n    for i = 1, math.random(3, 5) do\r\n        table.insert(urlTable, urlPrefix .. 'r:uncommon')\r\n    end\r\n    table.insert(urlTable, urlPrefix .. 't:land')\r\n\r\n    local numRares = 1\r\n    local rareRoll = math.random(1, 200)\r\n    if rareRoll == 1 then\r\n        numRares = 4\r\n    elseif rareRoll <= 7 then\r\n        numRares = 3\r\n    elseif rareRoll <= 70 then\r\n        numRares = 2\r\n    end\r\n    for i = 1, numRares do\r\n        table.insert(urlTable, urlPrefix .. getRandomRarity(8, 1))\r\n    end\r\n\r\n    table.insert(urlTable, urlPrefix .. getRandomRarity(nil, nil, 4))\r\n    return urlTable\r\nend\r\n\r\nBoosterPacks.stx = function()\r\n    local pack = {}\r\n    local url = apiSetPrefix .. 'stx+'\r\n    local archiveURL = config.apiBaseURL .. 'set:sta+r>common+'\r\n    table.insert(pack, archiveURL .. (math.random(2) == 1 and 'lang:en' or 'lang:ja'))\r\n    table.insert(pack, url .. 't:lesson+-r:u')\r\n    table.insert(pack, url .. getRandomRarity(8, 1))\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:u')\r\n    end\r\n    for _, c in ipairs({ 'w', 'u', 'b', 'r', 'g' }) do\r\n        table.insert(pack, url .. 'r:c+c:' .. c)\r\n    end\r\n    for i = 1, 3 do\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n\r\n    if math.random(3) == 1 then\r\n        table.insert(pack, url)\r\n    else\r\n        table.insert(pack, url .. 'r:c+-t:basic')\r\n    end\r\n    return pack\r\nend\r\n\r\nlocal function createCustomBooster(setQuery, packStructure)\r\n    return function()\r\n        local pack = BoosterPacks.default(setQuery)\r\n        return packStructure(pack)\r\n    end\r\nend\r\n\r\nBoosterPacks.standard = createCustomBooster('f:standard', function(pack)\r\n    local url = config.apiBaseURL .. 'f:standard+'\r\n    local artSets = '(set:tafr+or+set:tstx+or+set:tkhm+or+set:tznr+or+set:sznr+or+set:tm21+or+set:tiko+or+set:tthb+or+set:teld)'\r\n    local artQuery = '(border:borderless+or+frame:showcase+or+frame:extendedart+or+set:plist+or+set:sta)'\r\n    table.insert(pack, url .. 't:basic')\r\n    table.insert(pack, config.apiBaseURL .. artSets)\r\n    if math.random(2) == 1 then\r\n        pack[#pack - 1] = url .. artQuery\r\n    end\r\n    if math.random(2) == 1 then\r\n        pack[#pack] = url .. artQuery\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.conspiracy = createCustomBooster('(s:cns+or+s:cn2)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(9, 6, 3)))\r\n    pack[6] = pack[math.random(11, 12)]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack) and '+wm:conspiracy' or '+-wm:conspiracy'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.innistrad = createCustomBooster('(s:isd+or+s:dka+or+s:avr+or+s:soi+or+s:emn+or+s:mid)', function(pack)\r\n    table.insert(pack, pack[#pack]:gsub('r:%S+', getRandomRarity(8, 1)))\r\n    pack[11] = pack[12]\r\n    for i, _ in pairs(pack) do\r\n        local query = (i == 6 or i == #pack or i == #pack - 2) and '+is:transform' or '+-is:transform'\r\n        pack[i] = pack[i] .. query\r\n    end\r\n    return pack\r\nend)\r\n\r\nBoosterPacks.ravnica = createCustomBooster('(s:rav+or+s:gpt+or+s:dis+or+s:rtr+or+s:gtc+or+s:dgm+or+s:grn+or+s:rna)', function(pack)\r\n    local landQuery = 't:land+-t:basic'\r\n    table.insert(pack, pack[#pack])\r\n    for i = 7, 9 do\r\n        pack[i] = pack[6] .. '+id>=2'\r\n    end\r\n    for i, _ in pairs(pack) do\r\n        if i == 6 or i == #pack then\r\n            pack[i] = pack[i]:gsub('r:%S+', getRandomRarity(9, 6, 3)) .. '+' .. landQuery\r\n        else\r\n            pack[i] = pack[i] .. '+-' .. landQuery\r\n        end\r\n    end\r\n    return pack\r\nend)\r\n\r\n-- Maps set codes that are not valid Lua identifiers to valid function names.\r\nlocal setCodeMapping = {\r\n    ['2xm'] = 'twoxm'\r\n}\r\n\r\n--- Rate Limiting State ---\r\nlocal requestQueue = {}\r\nlocal requestsThisMinute = 0\r\nlocal resetTime = os.time()\r\n\r\n-- enqueue requests instead of calling WebRequest.get directly\r\nfunction enqueueRequest(url, callback)\r\n    table.insert(requestQueue, { url = url, callback = callback })\r\nend\r\n\r\n-- process up to 5 requests per minute\r\nfunction processRequestQueue()\r\n    if #requestQueue == 0 then\r\n        return\r\n    end\r\n    local req = table.remove(requestQueue, 1)\r\n    WebRequest.get(req.url, req.callback)\r\nend\r\n\r\n--- Scryfall API and Deck Handling ---\r\nfunction getScryfallQueryTable()\r\n    local setCode = string.lower(getSetCode())\r\n    local mappedSetCode = setCodeMapping[setCode] or setCode\r\n    local packGenerator = BoosterPacks[mappedSetCode] or BoosterPacks.default\r\n    return packGenerator(setCode)\r\nend\r\n\r\nfunction fetchDeckData(urlTable, boosterID)\r\n    local deck = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 180, rotZ = 180, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Deck\",\r\n        Nickname = getSetCode() .. \" Booster\",\r\n        Description = cardStackDescription,\r\n        DeckIDs = {},\r\n        CustomDeck = {},\r\n        ContainedObjects = {},\r\n    }\r\n\r\n    local requestsPending = #urlTable\r\n    local requestsCompleted = 0\r\n    local requestErrors = {}\r\n\r\n    for i, url in ipairs(urlTable) do\r\n        enqueueRequest(url, function(request)\r\n            if request.response_code ~= 200 then\r\n                local errorInfo = JSON.decode(request.text)\r\n                local message = errorInfo and errorInfo.details or (request.error .. \": \" .. request.text)\r\n                table.insert(requestErrors, { url = url, message = message })\r\n            else\r\n                local cardData = createCardDataFromJSON(request.text, i)\r\n                if cardData then\r\n                    deck.ContainedObjects[i] = cardData\r\n                    deck.DeckIDs[i] = cardData.CardID\r\n                    deck.CustomDeck[i] = cardData.CustomDeck[i]\r\n                end\r\n            end\r\n            requestsCompleted = requestsCompleted + 1\r\n        end)\r\n    end\r\n\r\n    Wait.condition(\r\n            function()\r\n                --if #deck.ContainedObjects ~= #urlTable then\r\n                --    return\r\n                --end\r\n\r\n                local cardNames = {}\r\n                local hasDuplicates = false\r\n                for _, card in ipairs(deck.ContainedObjects) do\r\n                    if cardNames[card.Nickname] then\r\n                        hasDuplicates = true\r\n                        break\r\n                    end\r\n                    cardNames[card.Nickname] = true\r\n                end\r\n\r\n                if hasDuplicates then\r\n                    fetchDeckData(urlTable, boosterID)\r\n                else\r\n                    local boosterContents = { deck }\r\n                    if #requestErrors > 0 then\r\n                        for _, error in ipairs(requestErrors) do\r\n                            local notecard = {\r\n                                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                                Name = \"Notecard\",\r\n                                Nickname = \"Booster Generation Errors\",\r\n                                Description = \"url: \" .. error.url .. \"\\n\\n\" .. error.message,\r\n                                Grid = false,\r\n                                Snap = false,\r\n                            }\r\n                            table.insert(boosterContents, notecard)\r\n                        end\r\n\r\n                        requestErrors = {}\r\n                    end\r\n\r\n                    boosterDataCache[boosterID] = boosterContents\r\n                end\r\n            end,\r\n            function()\r\n                return requestsPending == requestsCompleted\r\n            end\r\n    )\r\nend\r\n\r\nfunction getCardOracleText(cardFace)\r\n    local powerToughness = \"\"\r\n    if cardFace.power then\r\n        powerToughness = '\\n[b]' .. cardFace.power .. '/' .. cardFace.toughness .. '[b]'\r\n    elseif cardFace.loyalty then\r\n        powerToughness = '\\n[b]' .. tostring(cardFace.loyalty) .. '[/b]'\r\n    end\r\n    return (cardFace.oracle_text or \"\") .. powerToughness\r\nend\r\n\r\nfunction createCardDataFromJSON(jsonString, cardIndex)\r\n    local card = JSON.decode(jsonString)\r\n    if not card or not card.name then\r\n        error(\"Failed to decode JSON: \" .. jsonString)\r\n        return\r\n    end\r\n\r\n    local cardName = \"\"\r\n    local cardOracle = \"\"\r\n    local faceURL = \"\"\r\n    local backData = nil\r\n    local imageQuality = 'large'\r\n    local cacheBuster = (card.image_status ~= 'highres_scan') and ('?' .. os.date(\"%Y%m%d\")) or \"\"\r\n\r\n    local function getFormattedName(face, typeSuffix)\r\n        return string.format('%s\\n%s %s CMC %s', face.name:gsub('\"', ''), face.type_line, tostring(card.cmc or face.cmc or 0), typeSuffix or \"\"):gsub('%s$', '')\r\n    end\r\n\r\n    if card.card_faces then\r\n        if card.image_uris then\r\n            -- Split cards like Adventure\r\n            cardName = getFormattedName(card.card_faces[1])\r\n            for i, face in ipairs(card.card_faces) do\r\n                cardOracle = cardOracle .. getFormattedName(face) .. '\\n' .. getCardOracleText(face)\r\n                if i < #card.card_faces then\r\n                    cardOracle = cardOracle .. '\\n'\r\n                end\r\n            end\r\n            faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n        else\r\n            -- Transform / DFC\r\n            local face = card.card_faces[1]\r\n            local back = card.card_faces[2]\r\n            cardName = getFormattedName(face, 'DFC')\r\n            cardOracle = getCardOracleText(face)\r\n            faceURL = face.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n            local backURL = back.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n\r\n            local backCardIndex = cardIndex + 100\r\n            backData = {\r\n                Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n                Name = \"Card\",\r\n                Nickname = getFormattedName(back, 'DFC'),\r\n                Description = getCardOracleText(back),\r\n                Memo = card.oracle_id,\r\n                CardID = backCardIndex * 100,\r\n                CustomDeck = {\r\n                    [backCardIndex] = {\r\n                        FaceURL = backURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                        Type = 0, BackIsHidden = true, UniqueBack = false\r\n                    }\r\n                },\r\n            }\r\n        end\r\n    else\r\n        -- Normal card\r\n        cardName = getFormattedName(card)\r\n        cardOracle = getCardOracleText(card)\r\n        faceURL = card.image_uris.normal:gsub('%?.*', ''):gsub('normal', imageQuality) .. cacheBuster\r\n    end\r\n\r\n    local cardData = {\r\n        Transform = { posX = 0, posY = 0, posZ = 0, rotX = 0, rotY = 0, rotZ = 0, scaleX = 1, scaleY = 1, scaleZ = 1 },\r\n        Name = \"Card\",\r\n        Nickname = cardName,\r\n        Description = cardOracle,\r\n        Memo = card.oracle_id,\r\n        CardID = cardIndex * 100,\r\n        CustomDeck = {\r\n            [cardIndex] = {\r\n                FaceURL = faceURL, BackURL = config.backURL, NumWidth = 1, NumHeight = 1,\r\n                Type = 0, BackIsHidden = true, UniqueBack = false\r\n            }\r\n        },\r\n    }\r\n\r\n    if backData then\r\n        cardData.States = { [2] = backData }\r\n    end\r\n\r\n    return cardData\r\nend\r\n\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "8761d1",
          "Name": "Custom_Model_Bag",
          "Transform": {
            "posX": -11.8511219,
            "posY": 3.4277637,
            "posZ": 8.811935,
            "rotX": 3.40816259E-05,
            "rotY": 89.9744339,
            "rotZ": 6.24229824E-06,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "ColorDiffuse": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "HideWhenFaceDown": false,
          "Hands": false,
          "MaterialIndex": -1,
          "MeshIndex": -1,
          "Number": 0,
          "CustomMesh": {
            "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
            "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/",
            "NormalURL": "",
            "ColliderURL": "",
            "Convex": true,
            "MaterialIndex": 3,
            "TypeIndex": 6,
            "CustomShader": {
              "SpecularColor": {
                "r": 1.0,
                "g": 1.0,
                "b": 1.0
              },
              "SpecularIntensity": 0.0,
              "SpecularSharpness": 2.0,
              "FresnelStrength": 0.0
            },
            "CastShadows": true
          },
          "Bag": {
            "Order": 0
          },
          "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "9401e4",
      "Name": "3DText",
      "Transform": {
        "posX": 0.169359222,
        "posY": 0.961132467,
        "posZ": -9.49424648,
        "rotX": 90.0,
        "rotY": 359.8334,
        "rotZ": 0.0,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": true,
      "Grid": true,
      "Snap": true,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "Text": {
        "Text": "== ANY MTG Booster Box ==\n\nSimply write \"SET: XYZ\" in the description.\n\nThe box will change to be an XYZ Booster Box!\n\nSome sets support box and pack images.",
        "colorstate": {
          "r": 1.0,
          "g": 1.0,
          "b": 1.0
        },
        "fontSize": 64
      },
      "LuaScript": "",
      "LuaScriptState": "",
      "XmlUI": ""
    },
    {
      "GUID": "1f53ae",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -11.4652824,
        "posY": 2.4327538,
        "posZ": 11.0539885,
        "rotX": 34.6682472,
        "rotY": 179.988342,
        "rotZ": 0.0012315379,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "FIN Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/16627771293824374075/C5699273F56C725E5F909A4CF68E0BBB40CB3212/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "FIN Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [
            100,
            200,
            300,
            400,
            500,
            600,
            700,
            800,
            900,
            1000,
            1100,
            1200,
            1300,
            1400,
            1500
          ],
          "CustomDeck": {
            "1": {
              "FaceURL": "https://cards.scryfall.io/large/front/7/6/7604b534-5480-42fa-bc36-bbae730f8582.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "2": {
              "FaceURL": "https://cards.scryfall.io/large/front/6/6/6678501e-6349-4e37-ab4c-a31a3d408d52.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "3": {
              "FaceURL": "https://cards.scryfall.io/large/front/8/6/8680d052-c07b-4d9b-bda9-b5f69f44f424.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "4": {
              "FaceURL": "https://cards.scryfall.io/large/front/7/0/70f47277-ca47-428a-808f-0fb32e820a71.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "5": {
              "FaceURL": "https://cards.scryfall.io/large/front/4/9/49cd4efa-4df4-4257-9a42-60330f7781e2.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "6": {
              "FaceURL": "https://cards.scryfall.io/large/front/9/d/9dabd626-7ec3-4913-babb-d5d3fd5e32d5.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "7": {
              "FaceURL": "https://cards.scryfall.io/large/front/7/0/70d9ab99-ec8a-402e-ba1d-ffa6c4c84a3f.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "8": {
              "FaceURL": "https://cards.scryfall.io/large/front/e/5/e5857b1b-73bc-458e-b26b-7ed8bef785f3.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "9": {
              "FaceURL": "https://cards.scryfall.io/large/front/e/c/ec8ab637-3d7d-4712-9f83-8920f808f715.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "10": {
              "FaceURL": "https://cards.scryfall.io/large/front/d/a/da6d9529-3cb0-4adc-8209-b9b02db3bf54.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "11": {
              "FaceURL": "https://cards.scryfall.io/large/front/9/2/92f4ad73-42bf-45c0-8bb6-0b44043c81ef.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "12": {
              "FaceURL": "https://cards.scryfall.io/large/front/7/5/75c18134-f517-4a68-8640-0426b3cd4f6c.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "13": {
              "FaceURL": "https://cards.scryfall.io/large/front/9/9/99450143-6ab5-463d-9e04-e8e6703a8b92.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "14": {
              "FaceURL": "https://cards.scryfall.io/large/front/4/1/415ff6a5-61ef-4b37-ae08-e44476300d4a.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "15": {
              "FaceURL": "https://cards.scryfall.io/large/front/d/8/d818d574-2832-4a7a-a13b-aa6e695fdaa5.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            }
          },
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Coeurl\nCreature — Cat Beast 2 CMC",
              "Description": "{1}{W}, {T}: Tap target nonenchantment creature.\n[b]2/2[b]",
              "GMNotes": "",
              "Memo": "00d1596a-c3e2-4109-86da-388934a0c652",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 100,
              "CustomDeck": {
                "1": {
                  "FaceURL": "https://cards.scryfall.io/large/front/7/6/7604b534-5480-42fa-bc36-bbae730f8582.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Stuck in Summoner's Sanctum\nEnchantment — Aura 3 CMC",
              "Description": "Flash\nEnchant artifact or creature\nWhen this Aura enters, tap enchanted permanent.\nEnchanted permanent doesn't untap during its controller's untap step and its activated abilities can't be activated.",
              "GMNotes": "",
              "Memo": "84d308ce-c3c5-4612-accc-6e6cc68a33be",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 200,
              "CustomDeck": {
                "2": {
                  "FaceURL": "https://cards.scryfall.io/large/front/6/6/6678501e-6349-4e37-ab4c-a31a3d408d52.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Hecteyes\nCreature — Ooze Horror 2 CMC",
              "Description": "When this creature enters, each opponent discards a card.\n[b]1/1[b]",
              "GMNotes": "",
              "Memo": "7a11b4ed-430d-4ef8-b0c1-6a022f12448c",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 300,
              "CustomDeck": {
                "3": {
                  "FaceURL": "https://cards.scryfall.io/large/front/8/6/8680d052-c07b-4d9b-bda9-b5f69f44f424.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Blazing Bomb\nCreature — Elemental 1 CMC",
              "Description": "Whenever you cast a noncreature spell, if at least four mana was spent to cast it, put a +1/+1 counter on this creature.\nBlow Up — {T}, Sacrifice this creature: It deals damage equal to its power to target creature. Activate only as a sorcery.\n[b]1/1[b]",
              "GMNotes": "",
              "Memo": "088acd15-029b-4091-960a-d5060a364ca9",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 400,
              "CustomDeck": {
                "4": {
                  "FaceURL": "https://cards.scryfall.io/large/front/7/0/70f47277-ca47-428a-808f-0fb32e820a71.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Town Greeter\nCreature — Human Citizen 2 CMC",
              "Description": "When this creature enters, mill four cards. You may put a land card from among them into your hand. If you put a Town card into your hand this way, you gain 2 life. (To mill four cards, a player puts the top four cards of their library into their graveyard.)\n[b]1/1[b]",
              "GMNotes": "",
              "Memo": "9dc61ef6-da22-42a8-b348-dfd5722deadf",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 500,
              "CustomDeck": {
                "5": {
                  "FaceURL": "https://cards.scryfall.io/large/front/4/9/49cd4efa-4df4-4257-9a42-60330f7781e2.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Ice Magic\nInstant 2 CMC",
              "Description": "Tiered (Choose one additional cost.)\n• Blizzard — {0} — Return target creature to its owner's hand.\n• Blizzara — {2} — Target creature's owner puts it on their choice of the top or bottom of their library.\n• Blizzaga — {5}{U} — Target creature's owner shuffles it into their library.",
              "GMNotes": "",
              "Memo": "88b0bd3b-d832-4059-b0d9-04630917ae94",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 600,
              "CustomDeck": {
                "6": {
                  "FaceURL": "https://cards.scryfall.io/large/front/9/d/9dabd626-7ec3-4913-babb-d5d3fd5e32d5.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "World Map\nArtifact 1 CMC",
              "Description": "{1}, {T}, Sacrifice this artifact: Search your library for a basic land card, reveal it, put it into your hand, then shuffle.\n{3}, {T}, Sacrifice this artifact: Search your library for a land card, reveal it, put it into your hand, then shuffle.",
              "GMNotes": "",
              "Memo": "51d4f95e-aad2-4e5f-9f15-a68bbdf9ab3e",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 700,
              "CustomDeck": {
                "7": {
                  "FaceURL": "https://cards.scryfall.io/large/front/7/0/70d9ab99-ec8a-402e-ba1d-ffa6c4c84a3f.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Balamb T-Rexaur\nCreature — Dinosaur 6 CMC",
              "Description": "Trample\nWhen this creature enters, you gain 3 life.\nForestcycling {2} ({2}, Discard this card: Search your library for a Forest card, reveal it, put it into your hand, then shuffle.)\n[b]6/6[b]",
              "GMNotes": "",
              "Memo": "3f678f76-3863-4ab5-a4fd-9b76a282b1a8",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 800,
              "CustomDeck": {
                "8": {
                  "FaceURL": "https://cards.scryfall.io/large/front/e/5/e5857b1b-73bc-458e-b26b-7ed8bef785f3.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Blitzball Shot\nInstant 2 CMC",
              "Description": "Target creature gets +3/+3 and gains trample until end of turn.",
              "GMNotes": "",
              "Memo": "c99779b7-a271-416e-bdc2-0f9ba6ceb144",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 900,
              "CustomDeck": {
                "9": {
                  "FaceURL": "https://cards.scryfall.io/large/front/e/c/ec8ab637-3d7d-4712-9f83-8920f808f715.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Slash of Light\nInstant 2 CMC",
              "Description": "Slash of Light deals damage equal to the number of creatures you control plus the number of Equipment you control to target creature.",
              "GMNotes": "",
              "Memo": "3cc4d6f4-79b2-4210-84de-a0febf81eb67",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 1000,
              "CustomDeck": {
                "10": {
                  "FaceURL": "https://cards.scryfall.io/large/front/d/a/da6d9529-3cb0-4adc-8209-b9b02db3bf54.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Blitzball\nArtifact 3 CMC",
              "Description": "{T}: Add one mana of any color.\nGOOOOAAAALLL! — {T}, Sacrifice this artifact: Draw two cards. Activate only if an opponent was dealt combat damage by a legendary creature this turn.",
              "GMNotes": "",
              "Memo": "75719f87-ce1a-40d6-ac5a-5ebf0c936c84",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 1100,
              "CustomDeck": {
                "11": {
                  "FaceURL": "https://cards.scryfall.io/large/front/9/2/92f4ad73-42bf-45c0-8bb6-0b44043c81ef.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Clash of the Eikons\nSorcery 1 CMC",
              "Description": "Choose one or more —\n• Target creature you control fights target creature an opponent controls.\n• Remove a lore counter from target Saga you control. (Removing lore counters doesn't cause chapter abilities to trigger.)\n• Put a lore counter on target Saga you control.",
              "GMNotes": "",
              "Memo": "b1c38b70-575d-4d87-bc50-0b77b48ee823",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 1200,
              "CustomDeck": {
                "12": {
                  "FaceURL": "https://cards.scryfall.io/large/front/7/5/75c18134-f517-4a68-8640-0426b3cd4f6c.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Rydia, Summoner of Mist\nLegendary Creature — Human Shaman 2 CMC",
              "Description": "Landfall — Whenever a land you control enters, you may discard a card. If you do, draw a card.\nSummon — {X}, {T}: Return target Saga card with mana value X from your graveyard to the battlefield with a finality counter on it. It gains haste until end of turn. Activate only as a sorcery.\n[b]1/2[b]",
              "GMNotes": "",
              "Memo": "a08f79b7-d66f-47da-9670-afd7409c0c5c",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 1300,
              "CustomDeck": {
                "13": {
                  "FaceURL": "https://cards.scryfall.io/large/front/9/9/99450143-6ab5-463d-9e04-e8e6703a8b92.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Fire Magic\nInstant 1 CMC",
              "Description": "Tiered (Choose one additional cost.)\n• Fire — {0} — Fire Magic deals 1 damage to each creature.\n• Fira — {2} — Fire Magic deals 2 damage to each creature.\n• Firaga — {5} — Fire Magic deals 3 damage to each creature.",
              "GMNotes": "",
              "Memo": "c87db803-3490-41bc-af7a-78f99bcd77c8",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 1400,
              "CustomDeck": {
                "14": {
                  "FaceURL": "https://cards.scryfall.io/large/front/4/1/415ff6a5-61ef-4b37-ae08-e44476300d4a.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Bartz and Boko\nLegendary Creature — Human Bird 5 CMC",
              "Description": "Affinity for Birds (This spell costs {1} less to cast for each Bird you control.)\nWhen Bartz and Boko enters, each other Bird you control deals damage equal to its power to target creature an opponent controls.\n[b]4/3[b]",
              "GMNotes": "",
              "Memo": "2d995c47-e548-4fc4-9182-fef46af20ca5",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 1500,
              "CustomDeck": {
                "15": {
                  "FaceURL": "https://cards.scryfall.io/large/front/d/8/d818d574-2832-4a7a-a13b-aa6e695fdaa5.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            }
          ]
        }
      ]
    },
    {
      "GUID": "8761d1",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -19.0709743,
        "posY": 2.230205,
        "posZ": 10.42588,
        "rotX": 28.4174767,
        "rotY": 179.967636,
        "rotZ": -0.00149676274,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "OTJ Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666361741/B40E45A8AE490D38D02C8D32295E71920362D781/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "OTJ Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [
            100,
            200,
            300,
            400,
            500,
            600,
            700,
            800,
            900,
            1000
          ],
          "CustomDeck": {
            "1": {
              "FaceURL": "https://cards.scryfall.io/large/front/b/6/b6000be7-67db-440e-87ba-276df20b803e.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "2": {
              "FaceURL": "https://cards.scryfall.io/large/front/b/4/b41a2bf7-248c-4f8b-92ec-3010d276cb59.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "3": {
              "FaceURL": "https://cards.scryfall.io/large/front/0/3/03709166-164a-4075-ad0d-ea3b516ab771.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "4": {
              "FaceURL": "https://cards.scryfall.io/large/front/e/9/e9a50b7a-8741-4520-8d45-8e6b128c2628.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "5": {
              "FaceURL": "https://cards.scryfall.io/large/front/2/e/2e0e27f9-dc2c-4366-b810-3e8d0bdff8c3.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "7": {
              "FaceURL": "https://cards.scryfall.io/large/front/a/4/a4be8e47-9006-4770-8d99-68a684064a43.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "6": {
              "FaceURL": "https://cards.scryfall.io/large/front/f/7/f7d08008-9272-405e-82ef-566e6d42bb17.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "8": {
              "FaceURL": "https://cards.scryfall.io/large/front/5/9/592ccc36-3d10-4a12-8743-9b300b80cb4d.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "9": {
              "FaceURL": "https://cards.scryfall.io/large/front/c/5/c5523dac-7aa0-4486-89c8-3b22a1411f26.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "10": {
              "FaceURL": "https://cards.scryfall.io/large/front/6/2/624a176b-fe24-4441-8877-464cf172ccff.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            }
          },
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Sterling Supplier\nCreature — Bird Soldier 5 CMC",
              "Description": "Flying\nWhen this creature enters, put a +1/+1 counter on another target creature you control.\n[b]3/4[b]",
              "GMNotes": "",
              "Memo": "ab23cca2-b59e-4d34-80de-98bd08985275",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 100,
              "CustomDeck": {
                "1": {
                  "FaceURL": "https://cards.scryfall.io/large/front/b/6/b6000be7-67db-440e-87ba-276df20b803e.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Daring Thunder-Thief\nCreature — Turtle Rogue 4 CMC",
              "Description": "Flash\nThis creature enters tapped.\n[b]4/4[b]",
              "GMNotes": "",
              "Memo": "0f5401c2-0189-4a07-8e7b-a765ccd7c954",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 200,
              "CustomDeck": {
                "2": {
                  "FaceURL": "https://cards.scryfall.io/large/front/b/4/b41a2bf7-248c-4f8b-92ec-3010d276cb59.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Skulduggery\nInstant 1 CMC",
              "Description": "Until end of turn, target creature you control gets +1/+1 and target creature an opponent controls gets -1/-1.",
              "GMNotes": "",
              "Memo": "9100530e-2bd0-487e-a4eb-13dabd55b678",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 300,
              "CustomDeck": {
                "3": {
                  "FaceURL": "https://cards.scryfall.io/large/front/0/3/03709166-164a-4075-ad0d-ea3b516ab771.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Deadeye Duelist\nCreature — Human Assassin 2 CMC",
              "Description": "Reach\n{1}, {T}: This creature deals 1 damage to target opponent.\n[b]1/3[b]",
              "GMNotes": "",
              "Memo": "29ef90ac-2396-4488-970d-d440297ba5ee",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 400,
              "CustomDeck": {
                "4": {
                  "FaceURL": "https://cards.scryfall.io/large/front/e/9/e9a50b7a-8741-4520-8d45-8e6b128c2628.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Cactarantula\nCreature — Plant Spider 6 CMC",
              "Description": "This spell costs {1} less to cast if you control a Desert.\nReach\nWhenever this creature becomes the target of a spell or ability an opponent controls, you may draw a card.\n[b]6/5[b]",
              "GMNotes": "",
              "Memo": "18a5fe34-0c97-486c-b09a-80535a99e982",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 500,
              "CustomDeck": {
                "5": {
                  "FaceURL": "https://cards.scryfall.io/large/front/2/e/2e0e27f9-dc2c-4366-b810-3e8d0bdff8c3.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Razzle-Dazzler\nCreature — Human Wizard 2 CMC",
              "Description": "Whenever you cast your second spell each turn, put a +1/+1 counter on this creature. It can't be blocked this turn.\n[b]1/2[b]",
              "GMNotes": "",
              "Memo": "a1ac6d5c-b2d0-4ca4-8af8-16fd3dd3b3b5",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 600,
              "CustomDeck": {
                "6": {
                  "FaceURL": "https://cards.scryfall.io/large/front/f/7/f7d08008-9272-405e-82ef-566e6d42bb17.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Jailbreak Scheme\nSorcery 1 CMC",
              "Description": "Spree (Choose one or more additional costs.)\n+ {3} — Put a +1/+1 counter on target creature. It can't be blocked this turn.\n+ {2} — Target artifact or creature's owner puts it on their choice of the top or bottom of their library.",
              "GMNotes": "",
              "Memo": "bc7f39e1-97bf-4725-a84a-2a04121530c6",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 700,
              "CustomDeck": {
                "7": {
                  "FaceURL": "https://cards.scryfall.io/large/front/a/4/a4be8e47-9006-4770-8d99-68a684064a43.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Slickshot Vault-Buster\nCreature — Human Rogue 3 CMC",
              "Description": "Vigilance\nThis creature gets +2/+0 as long as you've committed a crime this turn. (Targeting opponents, anything they control, and/or cards in their graveyards is a crime.)\n[b]1/4[b]",
              "GMNotes": "",
              "Memo": "2085642e-29be-4e13-81dc-1f2ff6c095eb",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 800,
              "CustomDeck": {
                "8": {
                  "FaceURL": "https://cards.scryfall.io/large/front/5/9/592ccc36-3d10-4a12-8743-9b300b80cb4d.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Creosote Heath\nLand — Desert 0 CMC",
              "Description": "This land enters tapped.\nWhen this land enters, it deals 1 damage to target opponent.\n{T}: Add {G} or {W}.",
              "GMNotes": "",
              "Memo": "c116b787-5f7e-47ef-a694-58709770dd32",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 900,
              "CustomDeck": {
                "9": {
                  "FaceURL": "https://cards.scryfall.io/large/front/c/5/c5523dac-7aa0-4486-89c8-3b22a1411f26.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Wanted Griffin\nCreature — Griffin 4 CMC",
              "Description": "Flying\nWhen this creature dies, create a 1/1 red Mercenary creature token with \"{T}: Target creature you control gets +1/+0 until end of turn. Activate only as a sorcery.\"\n[b]3/2[b]",
              "GMNotes": "",
              "Memo": "c1348afe-4dc7-41bb-9d3f-1e8751abd7db",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 1000,
              "CustomDeck": {
                "10": {
                  "FaceURL": "https://cards.scryfall.io/large/front/6/2/624a176b-fe24-4441-8877-464cf172ccff.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            }
          ]
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:otj+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:otj+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:otj+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:otj+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:otj+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "8cf85f",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -3.717112,
        "posY": 2.5849154,
        "posZ": 11.4682531,
        "rotX": 39.7660179,
        "rotY": 180.0193,
        "rotZ": -0.000216049637,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "INR Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33314777894966905/8D9807FCC410A72E23B650DD45417ADE665B4E87/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "INR Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:inr+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "85f199",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 4.04715872,
        "posY": 2.44494724,
        "posZ": 11.0983572,
        "rotX": 35.0615959,
        "rotY": 180.06813,
        "rotZ": -0.000127335734,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "DFT Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33315411545885589/0C728D0BDFAB373310773FA4546CC4E08B1B11A1/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "DFT Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dft+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "3742a1",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 11.7304077,
        "posY": 2.62813568,
        "posZ": 11.5672846,
        "rotX": 41.29669,
        "rotY": 180.020767,
        "rotZ": -0.000125067963,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "EOE Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/15223391781034002798/18D4F50FA52D5739A7AAF47270CD89A8F3161F20/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "EOE Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:eoe+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "a2d413",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 19.74272,
        "posY": 2.50526643,
        "posZ": 11.26525,
        "rotX": 37.04539,
        "rotY": 180.037735,
        "rotZ": 0.0003907421,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "TDM Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33320655968555543/9ADDB19799EBAE44174466FE19E0C52F73EDDAE4/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "TDM Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:tdm+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "af53eb",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -19.4856472,
        "posY": 2.40835071,
        "posZ": 1.67690992,
        "rotX": 33.8859978,
        "rotY": 180.019287,
        "rotZ": 0.000587221351,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "RVR Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666416970/8B9F38A1D618C5C025C45E8D484B097CA8F245EE/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "RVR Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:rvr+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "ce0a06",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -11.8976507,
        "posY": 2.52677751,
        "posZ": 2.02262378,
        "rotX": 37.770153,
        "rotY": 179.98465,
        "rotZ": 0.00139786222,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "FDN Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666062860/0DFCD530284A8A4EC67CCEA18399BDE9405F3C3C/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "FDN Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {
            "6": {
              "FaceURL": "https://cards.scryfall.io/large/front/7/f/7ff50606-491c-4946-8d03-719b01cfad77.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "7": {
              "FaceURL": "https://cards.scryfall.io/large/front/e/0/e0846820-e595-4743-8a28-29c57d728677.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "12": {
              "FaceURL": "https://cards.scryfall.io/large/front/9/1/91bd75a1-cb54-4e38-9ce1-e8f32a73c6eb.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "8": {
              "FaceURL": "https://cards.scryfall.io/large/front/f/6/f6792f63-b651-497d-8aa5-cddf4cedeca8.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "9": {
              "FaceURL": "https://cards.scryfall.io/large/front/3/0/30f600cd-b696-4f49-9cbc-5a33aa43d04c.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "14": {
              "FaceURL": "https://cards.scryfall.io/large/front/e/6/e6af54ea-b57a-4e50-8e46-1747cca14430.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "11": {
              "FaceURL": "https://cards.scryfall.io/large/front/3/8/38806934-dd9c-4ad4-a59c-a16dce03a14a.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "15": {
              "FaceURL": "https://cards.scryfall.io/large/front/3/8/38769247-42a1-4571-9071-6d59fe28650a.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "10": {
              "FaceURL": "https://cards.scryfall.io/large/front/1/b/1b49b009-e6f2-494a-9235-f5c25c2d70a9.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "13": {
              "FaceURL": "https://cards.scryfall.io/large/front/6/0/609421da-8d89-4365-b18b-778832d91482.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            }
          },
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:fdn+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:fdn+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:fdn+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:fdn+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:fdn+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "185dfe",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -3.66819143,
        "posY": 2.351001,
        "posZ": 1.47823262,
        "rotX": 32.0295448,
        "rotY": 180.145187,
        "rotZ": 0.0923655,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "DSK Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666215369/BFD6BBAC0DE7F1F5C810F4FFCA8EF5E50EC8A03E/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "DSK Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [
            100,
            200,
            300,
            400,
            500,
            600,
            700,
            800
          ],
          "CustomDeck": {
            "1": {
              "FaceURL": "https://cards.scryfall.io/large/front/8/2/8266f93b-f91c-4427-a222-075ceb0be3af.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "2": {
              "FaceURL": "https://cards.scryfall.io/large/front/c/d/cd891675-12d4-40df-996a-97d694155227.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "3": {
              "FaceURL": "https://cards.scryfall.io/large/front/f/0/f0621b32-95c5-4f70-96cf-d46d20efc85d.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "4": {
              "FaceURL": "https://cards.scryfall.io/large/front/c/2/c2b7b635-4c72-4129-bf95-1eef05cce3d3.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "5": {
              "FaceURL": "https://cards.scryfall.io/large/front/6/0/60499c90-a512-4abb-98eb-0735a7138421.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "6": {
              "FaceURL": "https://cards.scryfall.io/large/front/e/e/ee0565f5-ebdb-43f9-bbb4-0485b1968937.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "7": {
              "FaceURL": "https://cards.scryfall.io/large/front/b/3/b3c773f0-9e65-48de-a362-a9a943198693.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            },
            "8": {
              "FaceURL": "https://cards.scryfall.io/large/front/3/6/3604a211-9bf7-474e-bd78-32a862f4259c.jpg",
              "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
              "NumWidth": 1,
              "NumHeight": 1,
              "BackIsHidden": true,
              "UniqueBack": false,
              "Type": 0
            }
          },
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": [
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Living Phone\nArtifact Creature — Toy 3 CMC",
              "Description": "When this creature dies, look at the top five cards of your library. You may reveal a creature card with power 2 or less from among them and put it into your hand. Put the rest on the bottom of your library in a random order.\n[b]2/1[b]",
              "GMNotes": "",
              "Memo": "da554d71-1f13-49ae-9eb2-c778a23df08b",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 100,
              "CustomDeck": {
                "1": {
                  "FaceURL": "https://cards.scryfall.io/large/front/8/2/8266f93b-f91c-4427-a222-075ceb0be3af.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Piranha Fly\nCreature — Fish Insect 2 CMC",
              "Description": "Flying\nThis creature enters tapped.\n[b]2/1[b]",
              "GMNotes": "",
              "Memo": "58d87cfe-7402-43c3-81ce-13de8cd04005",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 200,
              "CustomDeck": {
                "2": {
                  "FaceURL": "https://cards.scryfall.io/large/front/c/d/cd891675-12d4-40df-996a-97d694155227.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Balemurk Leech\nCreature — Leech 2 CMC",
              "Description": "Eerie — Whenever an enchantment you control enters and whenever you fully unlock a Room, each opponent loses 1 life.\n[b]2/2[b]",
              "GMNotes": "",
              "Memo": "a511772c-3739-469d-a5a2-5827b7ce9b5c",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 300,
              "CustomDeck": {
                "3": {
                  "FaceURL": "https://cards.scryfall.io/large/front/f/0/f0621b32-95c5-4f70-96cf-d46d20efc85d.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Most Valuable Slayer\nCreature — Human Warrior 4 CMC",
              "Description": "Whenever you attack, target attacking creature gets +1/+0 and gains first strike until end of turn.\n[b]2/4[b]",
              "GMNotes": "",
              "Memo": "f5bece93-afb3-4fa4-83a8-d7eaac032522",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 400,
              "CustomDeck": {
                "4": {
                  "FaceURL": "https://cards.scryfall.io/large/front/c/2/c2b7b635-4c72-4129-bf95-1eef05cce3d3.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Flesh Burrower\nCreature — Insect 2 CMC",
              "Description": "Deathtouch\nWhenever this creature attacks, another target creature you control gains deathtouch until end of turn.\n[b]2/2[b]",
              "GMNotes": "",
              "Memo": "04c4250e-014a-4067-80e8-4134069354f7",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 500,
              "CustomDeck": {
                "5": {
                  "FaceURL": "https://cards.scryfall.io/large/front/6/0/60499c90-a512-4abb-98eb-0735a7138421.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Abandoned Campground\nLand 0 CMC",
              "Description": "This land enters tapped unless a player has 13 or less life.\n{T}: Add {W} or {U}.",
              "GMNotes": "",
              "Memo": "0eec9984-cd11-4a52-9234-469c6a5fb9aa",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 600,
              "CustomDeck": {
                "6": {
                  "FaceURL": "https://cards.scryfall.io/large/front/e/e/ee0565f5-ebdb-43f9-bbb4-0485b1968937.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Meat Locker\nEnchantment — Room 8 CMC",
              "Description": "Meat Locker\nEnchantment — Room 8 CMC\nWhen you unlock this door, tap up to one target creature and put two stun counters on it. (If a permanent with a stun counter would become untapped, remove one from it instead.)\n(You may cast either half. That door unlocks on the battlefield. As a sorcery, you may pay the mana cost of a locked door to unlock it.)\nDrowned Diner\nEnchantment — Room 8 CMC\nWhen you unlock this door, draw three cards, then discard a card.\n(You may cast either half. That door unlocks on the battlefield. As a sorcery, you may pay the mana cost of a locked door to unlock it.)",
              "GMNotes": "",
              "Memo": "897eef47-3e99-4a5f-8a3e-ddb06bc95e9a",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 700,
              "CustomDeck": {
                "7": {
                  "FaceURL": "https://cards.scryfall.io/large/front/b/3/b3c773f0-9e65-48de-a362-a9a943198693.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            },
            {
              "GUID": "",
              "Name": "Card",
              "Transform": {
                "posX": 0.0,
                "posY": 0.0,
                "posZ": 0.0,
                "rotX": 0.0,
                "rotY": 0.0,
                "rotZ": 0.0,
                "scaleX": 1.0,
                "scaleY": 1.0,
                "scaleZ": 1.0
              },
              "Nickname": "Raucous Carnival\nLand 0 CMC",
              "Description": "This land enters tapped unless a player has 13 or less life.\n{T}: Add {R} or {W}.",
              "GMNotes": "",
              "Memo": "24a97436-ba61-4ebc-a560-a6c027ccfdf3",
              "AltLookAngle": {
                "x": 0.0,
                "y": 0.0,
                "z": 0.0
              },
              "LayoutGroupSortIndex": 0,
              "Value": 0,
              "Locked": false,
              "Grid": true,
              "Snap": true,
              "IgnoreFoW": false,
              "MeasureMovement": false,
              "DragSelectable": true,
              "Autoraise": true,
              "Sticky": true,
              "Tooltip": true,
              "GridProjection": false,
              "CardID": 800,
              "CustomDeck": {
                "8": {
                  "FaceURL": "https://cards.scryfall.io/large/front/3/6/3604a211-9bf7-474e-bd78-32a862f4259c.jpg",
                  "BackURL": "https://steamusercontent-a.akamaihd.net/ugc/1647720103762682461/35EF6E87970E2A5D6581E7D96A99F8A575B7A15F/",
                  "NumWidth": 1,
                  "NumHeight": 1,
                  "BackIsHidden": true,
                  "UniqueBack": false,
                  "Type": 0
                }
              },
              "LuaScript": "",
              "LuaScriptState": "",
              "XmlUI": ""
            }
          ]
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dsk+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dsk+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dsk+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dsk+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dsk+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dsk+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:dsk+r:mythic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "c996a2",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 3.99166465,
        "posY": 2.39537549,
        "posZ": 1.63444579,
        "rotX": 33.473,
        "rotY": 180.016739,
        "rotZ": -0.000192067339,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "BLB Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666242938/FA118E357C5820C6BF4EC70CAECC88876B22DE41/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "BLB Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:blb+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "0f83f2",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 11.7546816,
        "posY": 2.35535526,
        "posZ": 1.49173975,
        "rotX": 32.1405373,
        "rotY": 180.164185,
        "rotZ": 0.117898,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "MH3 Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666331598/112B58990D8AD19B704448588F6CC34A8BF0E2E9/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "MH3 Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mh3+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "21b14d",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 18.98429,
        "posY": 2.39648819,
        "posZ": 1.6373843,
        "rotX": 33.50365,
        "rotY": 179.953186,
        "rotZ": 359.973022,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "MKM Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/33313055666403145/D578E8D070D0F89BB866212A8C5FD97AE840F418/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "MKM Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:mkm+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "f69f2e",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -19.41248,
        "posY": 1.16,
        "posZ": -9.160917,
        "rotX": 5.38689449E-07,
        "rotY": 180.0002,
        "rotZ": 1.06660949E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "M24 Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "M24 Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+c>=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+c>=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+c>=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+c>=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+c>=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:common+-t:basic\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=is:booster+s:m24+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "bf3194",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": -11.6259279,
        "posY": 1.16,
        "posZ": -9.176325,
        "rotX": 5.63596068E-08,
        "rotY": 179.970566,
        "rotZ": 4.1188045E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "SPM Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/12555777445170015064/1F22F21DA19B1C5D668D761C2CA447889AE98A2A/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "SPM Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:common\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:common\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:common\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:common\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:common\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:common\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:common\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:uncommon\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+t:land\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=s:spm+r:common\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    },
    {
      "GUID": "99406c",
      "Name": "Custom_Model_Bag",
      "Transform": {
        "posX": 3.52107644,
        "posY": 1.16,
        "posZ": -4.178206,
        "rotX": -9.587307E-08,
        "rotY": 179.970551,
        "rotZ": -2.434313E-07,
        "scaleX": 1.0,
        "scaleY": 1.0,
        "scaleZ": 1.0
      },
      "Nickname": "Mystery Booster",
      "Description": "",
      "GMNotes": "",
      "AltLookAngle": {
        "x": 0.0,
        "y": 0.0,
        "z": 0.0
      },
      "ColorDiffuse": {
        "r": 1.0,
        "g": 1.0,
        "b": 1.0
      },
      "LayoutGroupSortIndex": 0,
      "Value": 0,
      "Locked": false,
      "Grid": false,
      "Snap": false,
      "IgnoreFoW": false,
      "MeasureMovement": false,
      "DragSelectable": true,
      "Autoraise": true,
      "Sticky": true,
      "Tooltip": true,
      "GridProjection": false,
      "HideWhenFaceDown": false,
      "Hands": false,
      "MaterialIndex": -1,
      "MeshIndex": -1,
      "CustomMesh": {
        "MeshURL": "https://steamusercontent-a.akamaihd.net/ugc/9779110528988615269/E9A65CD25256BFDB28AE4140FCB1D27BC71A5A8D/",
        "DiffuseURL": "https://steamusercontent-a.akamaihd.net/ugc/1871804141033719694/FE0CC0C11B5ADB27831BAAF0FF37E95852B6F454/",
        "NormalURL": "",
        "ColliderURL": "",
        "Convex": true,
        "MaterialIndex": 3,
        "TypeIndex": 6,
        "CustomShader": {
          "SpecularColor": {
            "r": 1.0,
            "g": 1.0,
            "b": 1.0
          },
          "SpecularIntensity": 0.0,
          "SpecularSharpness": 2.0,
          "FresnelStrength": 0.0
        },
        "CastShadows": true
      },
      "Bag": {
        "Order": 0
      },
      "LuaScript": "function tryObjectEnter()\r\n    return false\r\nend\r\n\r\nfunction onObjectLeaveContainer(container)\r\n    if container ~= self then\r\n        return\r\n    end\r\n\r\n    -- wait one second, then destroy the container when it's empty\r\n    Wait.time(function()\r\n        Wait.condition(\r\n                function()\r\n                    if container ~= nil then\r\n                        container.destruct()\r\n                    end\r\n                end,\r\n                function()\r\n                    return container ~= nil and container.getQuantity() == 0\r\n                end\r\n        )\r\n    end, 1)\r\nend\r\n",
      "LuaScriptState": "",
      "XmlUI": "",
      "ContainedObjects": [
        {
          "GUID": "",
          "Name": "Deck",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 180.0,
            "rotZ": 180.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Mystery Booster",
          "Description": "",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": true,
          "Snap": true,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "DeckIDs": [],
          "CustomDeck": {},
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": "",
          "ContainedObjects": []
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=w\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=u\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=b\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=r\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r<rare+c=g\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+c:m+r<rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+c:c+r<rare\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r>=rare+frame:2015\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:mb1+r>=rare+-frame:2015\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        },
        {
          "GUID": "",
          "Name": "Notecard",
          "Transform": {
            "posX": 0.0,
            "posY": 0.0,
            "posZ": 0.0,
            "rotX": 0.0,
            "rotY": 0.0,
            "rotZ": 0.0,
            "scaleX": 1.0,
            "scaleY": 1.0,
            "scaleZ": 1.0
          },
          "Nickname": "Booster Generation Errors",
          "Description": "url: http://api.scryfall.com/cards/random?q=set:cmb1\n\nYou are being rate-limited, please try again after 60 seconds. Scryfall asks you to constrain your API usage to less than 10 requests per second. If you need access to a large amount of card data, please use our bulk data offerings at https://scryfall.com/docs/api/bulk-data",
          "GMNotes": "",
          "AltLookAngle": {
            "x": 0.0,
            "y": 0.0,
            "z": 0.0
          },
          "LayoutGroupSortIndex": 0,
          "Value": 0,
          "Locked": false,
          "Grid": false,
          "Snap": false,
          "IgnoreFoW": false,
          "MeasureMovement": false,
          "DragSelectable": true,
          "Autoraise": true,
          "Sticky": true,
          "Tooltip": true,
          "GridProjection": false,
          "LuaScript": "",
          "LuaScriptState": "",
          "XmlUI": ""
        }
      ]
    }
  ]
}